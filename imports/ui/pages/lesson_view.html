<template name='Lesson_view_page'>
  <div data-page="index" class="page navbar-fixed toolbar-fixed">
    <!-- Top Navbar-->
    {{#Navbar}}
      <span class="right">{{lessonTitle}}</span>
    {{/Navbar}}

    {{#if modulesReady}}
      <div class="page-content padding-lg">
        <div class="content-block row">
          <div class='swiper-container'>
            <div class='swiper-wrapper'>

              <div class='swiper-slide'>
                {{#each level in levels}}
                  <div class="col-auto">
                  {{ >Home_thumbnail (thumbnailArgs level)}}
                  </div>
                {{/each}}
              </div>

              {{#each module in modules}}
                {{#with module}}
                  <div class='swiper-slide'>
                    <div id="{{_id}}" class="card module-card">
                      {{> UI.dynamic template=(getTemplate module)  data=(moduleArgs module) }}
                    </div>
                  </div>
                  {{#if hasAudio module}}
                    {{>Audio audioArgs module}}
                  {{/if}}

                  {{#if hasExplanation module}}
                    {{>Audio explanationArgs module}} 
                  {{/if}}
                {{/with}}
              {{/each}}

            </div>
          </div>
        </div>
      </div>

      {{> Lesson_view_page_footer footerArgs}}
    {{/if}}

    {{>Audio incorrectSoundEffectArgs}}
    {{>Audio correctSoundEffectArgs}}

  </div>
</template>
